<div>
    <%- include('../partials/notifications.ejs', {notifications: notifications, noWrapperDiv: true}) %>
    <h1 class="fr-h3">
        Changer votre mot de passe
    </h1>
    <div>
        <form action="/users/change-password" method="post">
            <input type="hidden" name="_csrf" value="<%= csrfToken %>">

            <input type="hidden" name="reset_password_token" value="<%= resetPasswordToken %>" />

            <div class="fr-input-group fr-password js-password-container">
                <label class="fr-label" for="password-input">
                    Nouveau mot de passe
                </label>
                <div class="fr-input-wrap">
                    <input
                            class="fr-password__input fr-input js-password-container__input"
                            aria-describedby="password-input-messages"
                            aria-required="true"
                            name="password"
                            autocomplete="new-password"
                            id="password-input"
                            type="password"
                            required
                            minlength="10"
                    >
                </div>
                <div class="fr-password__checkbox fr-checkbox-group fr-checkbox-group--sm">
                    <input
                            aria-label="Afficher le mot de passe"
                            class="js-password-container__toggle"
                            id="password-show"
                            type="checkbox"
                    >
                    <label class="fr-password__checkbox fr-label" for="password-show">
                        Afficher
                    </label>
                </div>
                <%- include('../partials/password-input-messages.ejs') %>
            </div>
            <div class="fr-input-group fr-password js-password-container">
                <label class="fr-label" for="confirm_password">Confirmez votre mot de passe</label>
                <div class="fr-input-wrap">
                    <input
                            class="fr-password__input fr-input js-password-container__input"
                            required
                            type="password"
                            id="confirm_password"
                            name="confirm_password"
                            aria-label="Confirmez votre mot de passe"
                            aria-describedby="password-confirmation-error"
                    >
                </div>
                <div class="fr-password__checkbox fr-checkbox-group fr-checkbox-group--sm">
                    <input
                            aria-label="Afficher la confirmation de mot de passe"
                            id="password-confirmation-show"
                            class="js-password-container__toggle"
                            type="checkbox"
                            aria-describedby="password-confirmation-error"
                    >
                    <label class="fr-password__checkbox fr-label" for="password-confirmation-show">
                        Afficher
                    </label>
                </div>
                <p class="fr-sr-only" id="password-confirmation-error"></p>
            </div>

            <%- include('../partials/submit-button.ejs', {label: 'Enregistrer'}) %>
        </form>
    </div>
</div>


<script type="module" src="<%= js('confirm-password.js') %>"></script>
<script type="module" src="<%= js('show-password.js') %>"></script>
<script type="module" src="<%= js('password-feedback.js') %>"></script>
